class h{constructor(){this.breakpoint="(max-width: 1024px)",this.mq=window.matchMedia(this.breakpoint)}get ww(){return window.innerWidth}get wh(){return window.innerHeight}get wy(){return window.pageYOffset}get scrollGap(){return this.ww>1024?-120:-80}}const r=new h,u=()=>{const o=window.location.hash;o!==""&&(window.location.hash=o+"_",window.addEventListener("load",()=>{const t=document.querySelector(o);t!==null&&(setTimeout(()=>{window.scrollTo(0,t.getBoundingClientRect().top+r.wy+r.scrollGap)},10),history.replaceState(null,"",o))}))};class p{constructor(t){const e={selector:'a[href^="#"]:not(.js-ignore-smooth)',ignoreSelector:""};this.option={...e,...t},document.addEventListener("DOMContentLoaded",()=>{const s=document.querySelectorAll(this.option.selector+this.option.ignoreSelector);s!==null&&s.forEach(i=>{this.registEventHandler(i)})})}registEventHandler(t){t.addEventListener("click",e=>{e.preventDefault();const s=t.hash;if(s==="#")return;const i=document.querySelector(s);if(i===null)return;const n=i.getBoundingClientRect();window.scrollTo({top:n.top+r.wy+r.scrollGap,left:0,behavior:"smooth"})})}}function c(o){let t=null;return function(...e){t===null&&(t=requestAnimationFrame(()=>{o.apply(this,e),t=null}))}}class v{constructor(t){this.observer=null,this.scrollHandlers=new Map;const e={selector:".js-sa",fireClass:"-run",fireRange:.8};this.option={...e,...t},document.addEventListener("DOMContentLoaded",()=>{this.init()})}init(){const t=document.querySelectorAll(this.option.selector);t.length!==0&&("IntersectionObserver"in window?this.initIntersectionObserver(t):t.forEach(e=>{this.registerScrollHandler(e)}))}initIntersectionObserver(t){const e={rootMargin:`0px 0px -${(1-this.option.fireRange)*100}% 0px`,threshold:0};this.observer=new IntersectionObserver(s=>{s.forEach(i=>{i.isIntersecting&&(i.target.classList.add(this.option.fireClass),this.observer?.unobserve(i.target))})},e),t.forEach(s=>{this.observer?.observe(s)})}registerScrollHandler(t){const e=c(()=>{const s=t.getBoundingClientRect().top;r.wy+r.wh*this.option.fireRange>s+r.wy&&(t.classList.add(this.option.fireClass),window.removeEventListener("scroll",e),this.scrollHandlers.delete(t))});this.scrollHandlers.set(t,e),window.addEventListener("scroll",e),e()}destroy(){this.observer&&(this.observer.disconnect(),this.observer=null),this.scrollHandlers.forEach(t=>{window.removeEventListener("scroll",t)}),this.scrollHandlers.clear()}}class y{constructor(t){const e={selector:".js-swipe",scrolledClass:"-scrolled"};this.option={...e,...t},document.addEventListener("DOMContentLoaded",()=>{const s=document.querySelectorAll(this.option.selector);s!==null&&s.forEach(i=>{this.registEventHandler(i)})})}registEventHandler(t){t.classList.add("swipe");const e=()=>{t.removeEventListener("scroll",e),t.classList.add(this.option.scrolledClass)};t.addEventListener("scroll",e)}}class f{constructor(t){this.scrollHandler=null,this.element=null;const e={selector:"body",fireClass:"-scrolled",fireRange:100};this.option={...e,...t},document.addEventListener("DOMContentLoaded",()=>{this.init()})}init(){if(this.element=document.querySelector(this.option.selector),!this.element){console.warn(`Element not found: ${this.option.selector}`);return}this.scrollHandler=c(()=>{this.element&&(r.wy<this.option.fireRange?this.element.classList.remove(this.option.fireClass):this.element.classList.add(this.option.fireClass))}),window.addEventListener("scroll",this.scrollHandler),this.scrollHandler()}destroy(){this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler),this.scrollHandler=null)}}class E{constructor(t){this.isMenuActive=!1,this.menuButtonElem=null,this.menuElem=null,this.hiddenElems=null,this.prevPosY=0;const e={menuSelector:".site-menu",menuButtonSelector:".site-menu-button",menuAvtiveClass:"-is-open",hiddenSelector:".site-main, .site-footer, .site-cv"};this.option={...e,...t},document.addEventListener("DOMContentLoaded",()=>{this.menuButtonElem=document.querySelector(this.option.menuButtonSelector),this.menuElem=document.querySelector(this.option.menuSelector),this.hiddenElems=document.querySelectorAll(this.option.hiddenSelector),this.menuButtonElem!==null&&(this.menuButtonElem.addEventListener("click",()=>{this.isMenuActive=!this.isMenuActive,this.rendar()}),r.mq.addEventListener("change",s=>{s.matches||this.closeMenu()}))})}closeMenu(){this.isMenuActive=!1,this.rendar()}rendar(){this.menuButtonElem===null||this.menuElem===null||this.hiddenElems===null||(this.isMenuActive?(this.menuButtonElem.classList.add(this.option.menuAvtiveClass),this.menuElem.classList.add(this.option.menuAvtiveClass),this.prevPosY=r.wy,this.hiddenElems.forEach(t=>{t.classList.add("hidden")})):(this.menuButtonElem.classList.remove(this.option.menuAvtiveClass),this.menuElem.classList.remove(this.option.menuAvtiveClass),this.hiddenElems.forEach(t=>{t.classList.remove("hidden")}),window.scrollTo(0,this.prevPosY)))}}class m{constructor(t){this.buttonEl=t,this.isAnimating=!1;const e=this.buttonEl.getAttribute("data-accordion");if(!e)throw new Error("Accordion button does not have a 'data-accordion' attribute.");const s=this.buttonEl.getAttribute("aria-expanded")||"false";this.buttonEl.setAttribute("aria-expanded",s),this.buttonEl.setAttribute("aria-controls",e);const i=document.querySelector(`#${e}`);if(!i)throw new Error(`Element with ID "${e}" was not found.`);this.panelEl=i,this.panelEl.setAttribute("aria-labelledby",this.buttonEl.id),this.panelEl.setAttribute("aria-hidden",s==="true"?"false":"true"),this.panelEl.style.display=s==="true"?"block":"none",this.closeButtonEl=this.panelEl.querySelector("[data-accordion-close]"),this.closeButtonEl?.addEventListener("click",n=>{n.preventDefault(),this.closePanel()}),this.buttonEl.addEventListener("click",n=>{n.preventDefault(),this.buttonEl.getAttribute("aria-expanded")==="true"?this.closePanel():this.openPanel()})}closePanel(){this.isAnimating||(this.buttonEl.setAttribute("aria-expanded","false"),this.buttonEl.classList.remove("-is-expanded"),this.panelEl.setAttribute("aria-hidden","true"),this.slideUp(this.panelEl))}openPanel(){this.isAnimating||(this.buttonEl.setAttribute("aria-expanded","true"),this.buttonEl.classList.add("-is-expanded"),this.panelEl.setAttribute("aria-hidden","false"),this.slideDown(this.panelEl))}slideUp(t,e=500){this.isAnimating=!0,t.style.height=`${t.offsetHeight}px`,t.offsetHeight,t.style.overflow="hidden",t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=`${e}ms`,t.style.height="0",t.style.paddingTop="0",t.style.paddingBottom="0",t.style.marginTop="0",t.style.marginBottom="0";const s=()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),this.isAnimating=!1,t.removeEventListener("transitionend",s)};t.addEventListener("transitionend",s)}slideDown(t,e=500){this.isAnimating=!0,t.style.removeProperty("display");let s=window.getComputedStyle(t).display;s==="none"&&(s="block"),t.style.display=s;let i=t.offsetHeight;t.style.overflow="hidden",t.style.height="0",t.style.paddingTop="0",t.style.paddingBottom="0",t.style.marginTop="0",t.style.marginBottom="0",t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=`${e}ms`,t.style.height=`${i}px`;const n=()=>{t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),this.isAnimating=!1,t.removeEventListener("transitionend",n)};t.addEventListener("transitionend",n)}}class g{constructor(t="[data-tab]",e){const s={buttonSelector:"[data-tab-target]",contentSelector:"[data-tab-content]"};this.option={...s,...e},document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelectorAll(t);i!==null&&i.forEach(n=>{this.registEventHandler(n)})})}registEventHandler(t){const e=t.querySelectorAll(this.option.buttonSelector),s=t.querySelectorAll(this.option.contentSelector),i=()=>{s.forEach(a=>{a.classList.remove("-is-open")}),t.querySelector(`[data-tab-content="${n}"]`)?.classList.add("-is-open"),e.forEach(a=>{a.classList.remove("-is-active")}),t.querySelector(`[data-tab-target="${n}"]`)?.classList.add("-is-active")};let n;e.forEach(l=>{l.addEventListener("click",d=>{d.preventDefault(),n=l.dataset.tabTarget,i()})}),n=e[0].dataset.tabTarget,i()}}new v;new y;new f;new p;new E({menuSelector:".site-header__nav"});const w=document.querySelectorAll("[data-accordion]");w.forEach(o=>{o instanceof HTMLButtonElement?new m(o):console.warn("Invalid element type for Accordion:",o)});new g;u();
//# sourceMappingURL=bundle.js.map
